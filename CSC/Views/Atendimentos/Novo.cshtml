@model CSC.Models.Atendimento

<div class="container-fluid">
    <form asp-action="Salvar" id="novo" method="post">
        <div class="form-row">
            <div class="col-sm-3">
                <label class="col-form-label col-form-label-sm">Nome</label>
                <input asp-for="@User.Identity.Name" class="form-control form-control-sm input-Capitalize" disabled />
            </div>
            <div class="col-sm-5">
                <label asp-for="Cliente.RazaoSocial" class="col-form-label col-form-label-sm"></label>
                <input asp-for="Cliente.RazaoSocial" class="form-control form-control-sm input-Capitalize" disabled />
                <input asp-for="ClienteId" type="hidden" />
            </div>
            <div class="col-sm-2">
                <label asp-for="Abertura" class="col-form-label col-form-label-sm"></label>
                <input asp-for="Abertura" type="date" class="form-control form-control-sm" readonly />
            </div>
            <div class="col-sm-2">
                <label asp-for="Status" class="col-form-label col-form-label-sm"></label>
                <input asp-for="Status" class="form-control form-control-sm" readonly />
            </div>
        </div>
        <div class="form-row">
            <div class="col-3 col-sm-3">
                <label asp-for="AtendimentoTipo" class="col-form-label col-form-label-sm"></label>
                <select asp-for="AtendimentoTipo" asp-items="@ViewBag.TipoAtendimento" class="form-control"></select>
                <br />
                <label asp-for="Solicitante" class="col-form-label col-form-label-sm"></label>
                <input asp-for="Solicitante" type="text" class="form-control form-control-sm" autocomplete="off" />
                <br />
                <div class="form-row">
                    <div class="col-6 col-sm-6">
                        <button class="btn btn-block btn-primary" type="button" data-toggle="modal" data-target="#LicenseModal">Licenças</button>
                    </div>
                    <div class="col-6 col-sm-6">
                        <button class="btn btn-block btn-primary" type="button" data-toggle="modal" data-target="#HistoryModal">Historico <span id="HistoricoBadge" class="badge badge-light"></span></button>
                    </div>
                </div>
            </div>
            <div class="col-9 col-sm-9">
                <label asp-for="Detalhes" class="col-form-label col-form-label-sm"></label>
                <textarea asp-for="Detalhes" class="form-control form-control-sm" rows="10" maxlength="800" style="height: 200px !important; resize:none"></textarea>
            </div>
        </div>
        <div class="form-row">
            <label>&nbsp;</label>
            <div class="col-sm-12 text-right">
                <input type="submit" value="Gravar" id="btnSubmit" class="btn btn-primary" />
                <a asp-action="Index" class="btn btn-danger">Voltar</a>
            </div>
        </div>

    </form>
</div>

@section Modals{
    <div class="modal fade" id="LicenseModal">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body">
                    <table class="table table-striped table-bordered table-hover" style="width:100%;" id="TbLicencas">
                        <thead>
                            <tr>
                                <th>Software</th>
                                <th>Quantidade de licenças</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="HistoryModal">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body">
                    <table class="table table-striped table-bordered table-hover" id="TbHistory" style="width:100%">
                        <thead>
                            <tr>
                                <th>Funcionario</th>
                                <th>Cliente</th>
                                <th>Solicitante</th>
                                <th>Tipo</th>
                                <th>Status</th>
                                <th>Detalhes</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
}

@section Scripts{
    <script type="text/javascript" src="~/js/Atendimentos_Novo.js"></script>
}